/*
 * This file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Java project to get you started.
 * For more details take a look at the Java Quickstart chapter in the Gradle
 * User Manual available at https://docs.gradle.org/5.6.3/userguide/tutorial_java_projects.html
 */

plugins {
    id 'java'   
    id "io.spring.dependency-management" version "${iospringManVersion}"     
    id "org.springframework.boot" version "${springbootVersion}"
    id 'application'
}

dependencies {
    compile project(':springserviceapi') 
    compile project(':springdb') 
    
    implementation "org.springframework.boot:spring-boot-starter-undertow:${undertowVersion}"
    implementation('org.springframework.boot:spring-boot-starter-web') {
       exclude group:'org.springframework.boot',module:'spring-boot-starter-tomcat'
    }
    implementation 'org.springframework.boot:spring-boot-starter-log4j2'
    implementation 'org.springframework.boot:spring-boot-starter-actuator'
    
    implementation "org.springframework.cloud:spring-cloud-starter-netflix-eureka-client:${springCloudStarterNetflixEurekaClientVersion}"   
    implementation "org.springframework.cloud:spring-cloud-config-client:${springbootConfVersion}"
    //implementation 'org.springframework.cloud:spring-cloud-starter-config'
    
    implementation "com.fasterxml.jackson.core:jackson-databind:${jacksonDatabindVersion}"
    implementation "com.fasterxml.jackson.core:jackson-annotations:${jacksonAnnotationsVersion}"
    implementation "com.fasterxml.jackson.core:jackson-core:${jacksonDatabindVersion}"
    
    implementation 'com.github.ben-manes.caffeine:caffeine'
    
    annotationProcessor "org.projectlombok:lombok:${lombokVersion}"
    compileOnly "org.projectlombok:lombok:${lombokVersion}"
    testAnnotationProcessor "org.projectlombok:lombok:${lombokVersion}"
    testCompileOnly "org.projectlombok:lombok:${lombokVersion}"

    implementation "org.springframework:spring-tx:${springVersion}"
    implementation "org.springframework:spring-jdbc:${springVersion}"
    
    implementation "mysql:mysql-connector-java:${mysqlConnectorVersion}"
    implementation "com.alibaba:druid:${druidVersion}"
    implementation "org.mybatis:mybatis-spring:${mybatisSpringVersion}"
    implementation "org.mybatis:mybatis:${mybatisVersion}"

    implementation "io.springfox:springfox-swagger2:${swaggerVersion}"
    implementation "io.springfox:springfox-swagger-ui:${swaggerVersion}"

    testImplementation "org.testng:testng:${testngVersion}"
}

configurations {
	compile.exclude module: 'spring-boot-starter-tomcat'
	compile.exclude module: 'spring-cloud-netflix-ribbon'
	compile.exclude module: 'spring-boot-starter-logging' 	
	all*.exclude group:'org.springframework.boot',module:'spring-boot-starter-tomcat'
}

application {
    // Define the main class for the application
    mainClassName = 'com.sele.build.SpringServiceApplication'
}

test {
    // Use TestNG for unit tests
    useTestNG()
}
